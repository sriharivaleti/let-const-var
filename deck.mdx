import {Head, Image, Appear, Notes} from 'mdx-deck';

import {themes} from 'mdx-deck';

export const theme = themes.code;

<Head>
    <title>COMD 3663 Dynamic Web 1: let const var</title>
    <meta name='viewport' content='width=device-width, initial-scale=1, shrink-to-fit=no'/>
</Head>

---

<div style={{width: '90%'}}>
    <h1>COMD 3663 Dynamic Web 1</h1>
    <h2 class="lowercase">let const var</h2>
</div>

---

<div style={{width: "90%"}}>
    <h2>Declaring and Defining Variables: <code style={{color: "#cc0487"}}>var</code></h2>
    <p>
        The <code style={{color: "#cc0487"}}>var</code> statement declares a variable, OPTIONALLY initializing it to a value. You don't have to immediately assign a value to a <code style={{color: "#cc0487"}}>var</code> (or <code style={{color: "#cc0487"}}>let</code>) variable. Uninitialized declaration of <code style={{color: "#cc0487"}}>var</code>:
    </p>
    <code style={{color: "#cc0487"}}>var str</code>
    <p>Initialized variable using <code style={{color: "#cc0487"}}>var</code>:</p>
    <code style={{color: "#cc0487"}}>var str = 'Hello, world!'</code>
    <p>Syntax:</p>
    <code style={{color: "#cc0487"}}>var name1 = value1</code>
    <p><code style={{color: "#cc0487"}}>=</code> is called the <code style={{color: "#cc0487"}}>assignment operator</code>. It indicates that the <code style={{color: "#cc0487"}}>value</code> to the <em>right</em> of the <code style={{color: "#cc0487"}}>assignment operator</code> is being <code style={{color: "#cc0487"}}>assigned</code> to the variable <code style={{color: "#cc0487"}}>str</code>.</p>
</div>

---

<div style={{width: "90%"}}>
    <h2><code style={{color: "#cc0487"}}>var</code> Declarations</h2>
    <p>
        <code style={{color: "#cc0487"}}>var</code> <em>declarations</em>, wherever they occur, are processed before any code is executed. This is called <code style={{color: "#cc0487"}}>hoisting</code>.
    </p>
<p><code style={{color: "#cc0487"}}>variable hoisting</code>: refers to JavaScript's behavior of <em>moving</em> declarations to the <code>top.</code></p>
</div>

---

<div style={{width: "90%"}}>
    <h2>Variable Hoisting: Example 1</h2>
    <p><code>Example 1</code></p>
    <pre><code data-javascript noescape>
x = 20;<br/>
elem.document.getElementById('demo');<br/>
elem.innerHTML.x;<br/>
var x;
    </code></pre>
<p>To view examples in action, please visit <a href="w3schools.com/js/js_hoisting.asp">JavaScript Declarations are Hoisted</a> on <strong>W3Schools</strong>.</p>
</div>

---

<div style={{width: "90%"}}>
    <h2>Variable Scope</h2>
    <ol>
        <li>
            A <code style={{color: "#cc0487"}}>variable</code> is either in the <code style={{color: "#cc0487"}}>local scope</code>, within the body of a function, or in the <code style={{color: "#cc0487"}}>global scope</code>, outside of a function and available everywhere in the application.
        </li>
        <li>
            Unless you need a variable to be available everywhere in an application, it is always <em>preferrable</em> to <strong>declare</strong> and initialize it in the <code style={{color: "#cc0487"}}>local scope</code>.
        </li>
    </ol>
    <Notes style={{color: "#fff"}}>
        Show examples of local and global scopes using var in the JS playground.
    </Notes>
</div>

---

<div style={{width: "90%"}}>
    <h2>Assigning Values to Undeclared Variables</h2>
    <p>
        Assigning values to undeclared variables <em>implicitly</em> makes them <code>global variables</code>. Because it makes them <code style={{color: "#cc0487"}}>global variables</code>, and because developers might not realize that they exist as such (i.e., they inadvertently ommitted <code style={{color: "#cc0487"}}>var</code>), undeclared variables can result in <code style={{color: "#cc0487"}}>global variable leaks</code>. This can cause unpredicatable code behavior, and the undeclared variables can be very hard to track down.
    </p>
</div>

---

<div style={{width: "90%"}}>
    <h2>Explicit Strict Mode</h2>
    <p>
        With <code style={{color: "#cc0487"}}>ES5</code>, which was introduced in <code style={{color: "#cc0487"}}>2009</code>, the concept of <code style={{color: "#cc0487"}}>strict mode</code> was introduced.
    </p>
    <p>
        <code style={{color: "#cc0487"}}>"strict mode"</code> was introduced in response to JavaScript's <em>lenience</em> and acceptance of sloppy or incorrect code, such as <em>undeclared</em> <code style={{color: "#cc0487"}}>global variables</code>. It was not recognized by all browsers, however, so <code style={{color: "#cc0487"}}>cross-browser compatibility</code> <em>testing</em> was necessary. On the other hand, <code style={{color: "#cc0487"}}>normal</code> code and code in <code style={{color: "#cc0487"}}>strict mode</code> could co-exist, so that was not a problem. These days, even though Javascript is being <code style={{color: "#cc0487"}}>compiled down</code> to <code style={{color: "#cc0487"}}>ES5</code> for <code style={{color: "#cc0487"}}>cross-browser compatibility</code>, we are already entering <code style={{color: "#cc0487"}}>ECMAScript 2020</code>. Pretty much all developers have embraced <code style={{color: "#cc0487"}}>ECMAScript 2015</code> (ES6) and beyond.
    </p>
</div>

---

<div style={{width: "90%"}}>
    <h2>let and const</h2>
    <p>
        In response to <code style={{color: "#cc0487"}}>var</code>'s "sloppiness", <code style={{color: "#cc0487"}}>ES6</code> introduced <code style={{color: "#cc0487"}}>let</code> and <code style={{color: "#cc0487"}}>const</code>.
    </p>
</div>

---

<div style={{width: "90%"}}>
    <h2>let</h2>
    <p>
        <code style={{color: "#cc0487"}}>let</code> is really neat. The <code style={{color: "#cc0487"}}>let</code> statement declares a <code style={{color: "#cc0487"}}>block scope</code> local variable, optionally (immediately) initializing it to a value.
    </p>
    <p>Syntax:</p>
    <code style={{color: "#cc0487"}}>let variable1 = value1;</code><br/>
    <code style={{color: "#cc0487"}}>variable1</code>: the name of the variable that is being declared. Each character of the name must be a <em>legal</em> JavaScript <code>identifier</code>.<br/>
    <code style={{color: "#cc0487"}}>value1</code>: with the <em>declaration</em> of the variable, you may optionally <em>immediately</em> specify its initial value to any legal JavaScript expression.
    <Notes style={{color: "#fff"}}>
        Show let in action in the playground. Then show what would happen with var if done the same way.
    </Notes>
</div>

---

<div style={{width: "90%"}}>
    <h2>Legal JavaScript Identifiers in Naming Variables</h2>
    <p>
        According to <code style={{color: "#cc0487"}}>Mathias Byens</code>, member of the ECMAScript technical committee <code style={{color: "#cc0487"}}>TC39</code>, which oversees the evolution of the <code style={{color: "#cc0487"}}>Ecma262 standard</code> (in other words, JavaScript), states on his blog in a post entitled <a href="https://mathiasbynens.be/notes/javascript-identifiers-es6" target="_blank">Valid JavaScript variable names in ES2015</a>:
        <blockquote>
            ES2015 updates the grammar for identifiers.
        </blockquote>
    </p>
    <p>
        He gets into great detail about what identifiers (characters) can be used in naming variables, most of which you can ignore for this class. BUT he does provide a very helpful tool in this post (I have included the <em>link</em> to it in the <strong>Related Resources</strong> section at the end of this lecture as well). It is a <code style={{color: "#cc0487"}}>variable name validator</code>! There are a whole bunch of other really cool validator tools included there which we probably will revisit when appropriate.
    </p>
    <Notes style={{color: "#fff"}}>
        Go to Mathias' blog post and do a demonstration of how the validator works. <a href="https://mathiasbynens.be/notes/javascript-identifiers-es6" target="_blank">Valid JavaScript variable names in ES2015</a>
    </Notes>
</div>

---

<div style={{width: "90%"}}>
    <h2>let vs var: recap</h2>
    <ol>
        <li>
            <code style={{color: "#cc0487"}}>let</code> allows you to declare variables <em>limited</em> to the <code style={{color: "#cc0487"}}>local scope</code> of a <code style={{color: "#cc0487"}}>block statement</code> (or expression on which it is used, and we'll talk about that when we get to expressions!), but the <code style={{color: "#cc0487"}}>var</code> <b>keyword</b> declares variables <em>globally</em> or <em>locally</em> to a whole function, <em>ignoring</em> block scope.
        </li>
        <li>
            Unlike <code style={{color: "#cc0487"}}>var</code>, which is <em>immediately</em> <strong>initialized</strong> to a value, <code style={{color: "#cc0487"}}>let</code> is <em>initialized</em> to a value <strong>only when</strong> a <strong>parser</strong> evaluates it.
        </li>
        <li>
            Unlike <code style={{color: "#cc0487"}}>var</code>, <code style={{color: "#cc0487"}}>let</code> does not create properties of the <code style={{color: "#cc0487"}}>Window object</code> when declared <em>globally</em>. We'll be getting into the <code style={{color: "#cc0487"}}>Window</code> object later in the course. Two such properties are <code style={{color: "#cc0487"}}>localStorage</code> and <code style={{color: "#cc0487"}}>sessionStorage</code>, for example.
        </li>
        <li><code style={{color: "#cc0487"}}>let</code> cannot be re-declared. On the other hand, <code style={{color: "#cc0487"}}>var</code> <a href="https://stackoverflow.com/questions/6888506/redeclaring-a-javascript-variable" target="_blank">can</a>.</li>
    </ol>
</div>

---

<div style={{width: "90%"}}>
    <h2>Why the keyword name let was chosen</h2>
    <p>
        In the stackoverflow question entitled <a href="https://stackoverflow.com/questions/37916940/why-was-the-name-let-chosen-for-block-scoped-variable-declarations-in-javascri" target="_blank">Why was the name 'let' chosen for block-scoped variable declarations in JavaScript?</a>, on <code style={{color: "#cc0487"}}>let</code>, it goes into an in-depth explanation of the reason the keyword name <code style={{color: "#cc0487"}}>let</code> was chosen. It states the following:
    </p>
    <blockquote>
        Let is a mathematical statement that was adopted by early programming languages like Scheme and Basic. Variables are considered low level entities not suitable for higher levels of abstraction, thus the desire of many language designers to introduce similar but more powerful concepts like in Clojure, F#, Scala, where let might mean a value, or a variable that can be assigned, but not changed, which in turn lets the compiler catch more programming errors and optimize code better.<br/>
        <br/>
        JavaScript has had var from the beginning, so they just needed another keyword, and just borrowed from dozens of other languages that use let already as a traditional keyword as close to var as possible, although in JavaScript let creates block scope local variable instead.
    </blockquote>
</div>

---

<div style={{width: "90%"}}>
    <h2>const</h2>
    <p>
        <code style={{color: "#cc0487"}}>const</code> was introduced in <code style={{color: "#cc0487"}}>ES6</code>, and is very different from <code style={{color: "#cc0487"}}>var</code>. <code style={{color: "#cc0487"}}>const</code> works like what its keyword name sounds like. The value assigned to it is <em><strong>read only</strong></em>. It cannot be re-assigned a value as with <code style={{color: "#cc0487"}}>let</code> and <code style={{color: "#cc0487"}}>var</code>. <code style={{color: "#cc0487"}}>let</code> and <code style={{color: "#cc0487"}}>var</code> allow you to <em><strong>re-assign</strong></em> <strong>values</strong> to them. <code style={{color: "#cc0487"}}>const</code> does not.
    </p>
    <Notes style={{color: "#fff"}}>
        Show an example of const in action in the playground.
    </Notes>
</div>

---

<div style={{width: "90%"}}>
    <h2>const Syntax</h2>
    <p>
        Like <code style={{color: "#cc0487"}}>let</code>, <code style={{color: "#cc0487"}}>const</code> is <code style={{color: "#cc0487"}}>block scoped</code>. It also can't be changed through re-assignment (<code style={{color: "#cc0487"}}>let</code> can), and can't be re-declared. <code style={{color: "#cc0487"}}>let</code> also cannot be re-declared.
    </p>
    <strong>Syntax:</strong><br/>
    <code style={{color: "#cc0487"}}>const name1 = value1;</code><br/>
    <code style={{color: "#cc0487"}}>name1</code>: the name of the constant, which can be any <code style={{color: "#cc0487"}}>legal identifier</code>.<br/>
    <code style={{color: "#cc0487"}}>value1</code>: the value of the constant, which can be any <code style={{color: "#cc0487"}}>legal expression</code>, including a <code style={{color: "#cc0487"}}>function expression</code>.
</div>

---

<div style={{width: "90%"}}>
    <h2>const in Detail</h2>
    <ol>
        <li>
            <code style={{color: "#cc0487"}}>const</code> declaration creates a constant whose scope can be <code style={{color: "#cc0487"}}>global</code> or <code style={{color: "#cc0487"}}>local blocked</code>, depending on where it is placed.
        </li>
        <li>
            Global <code style={{color: "#cc0487"}}>consts</code> do NOT become properties of the <code style={{color: "#cc0487"}}>Window</code> object, as with <code style={{color: "#cc0487"}}>var</code> variables.
        </li>
        <li>
            An <em>initializer</em> is required when declaring a <code style={{color: "#cc0487"}}>const</code>. In other words, you can't do <code style={{color: "#cc0487"}}>const name; name="Maria";</code>. You have to immediately assign a value to the const <code style={{color: "#cc0487"}}>name</code>. So <code style={{color: "#cc0487"}}>const name = "Maria";</code> instead.
        </li>
        <li>
            <code style={{color: "#cc0487"}}>const</code> declaration is read only. It creates a read-only reference to the value. This does NOT mean that the value which is assigned to it is immutable, unchangeable. It just means that the <code style={{color: "#cc0487"}}>variable identifier</code> <em>cannot be</em> <code style={{color: "#cc0487"}}>re-assigned</code>. The <code style={{color: "#cc0487"}}>value</code> can change, just the <code style={{color: "#cc0487"}}>structure</code> of the value cannot.
        </li>
    </ol>
    <Notes style={{color: "#fff"}}>
        Leave the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/let#Temporal_dead_zone" target="_blank">temporal dead zone</a> for another time when appropriate.
    </Notes>
</div>

---

<div style={{width: "90%"}}>
    <h2>Related Resources</h2>
    <ul>
        <li>
            <a href="https://tc39.es/">TC39: Specifying JavaScript</a>
        </li>
        <li>
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Strict_mode">Strict Mode</a>: <strong>MDN</strong>
        </li>
        <li>
            <a href="https://mathiasbynens.be/notes/javascript-identifiers-es6">Valid JavaScript variable names in ES2015</a>: <strong>mathias bynens</strong>
        </li>
        <li>
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/var">var</a>: <strong>MDN</strong>
        </li>
        <li>
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/let">let</a>: <strong>MDN</strong>
        </li>
        <li>
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/const">const</a>: <strong>MDN</strong>
        </li>
        <li>
            <a href="https://stackoverflow.com/questions/37916940/why-was-the-name-let-chosen-for-block-scoped-variable-declarations-in-javascri">Why was the name 'let' chosen for block-scoped variable declarations in JavaScript?</a>: <strong>stackoverflow</strong>
        </li>
        <li><a href="https://stackoverflow.com/questions/6888506/redeclaring-a-javascript-variable">Redeclaring a javascript variable</a>: <strong>stackoverflow</strong></li>
        <li>
            <a href="https://www.w3schools.com/js/js_hoisting.asp">JavaScript Hoisting</a>: <strong>W#Schools</strong>
        </li>
    </ul>
</div>