<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>COMD 3663 Dynamic Web 1: let const var</title>

    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/black.css">

    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="lib/css/monokai.css">
    <link rel="stylesheet" href="css/custom.css">

    <!-- Printing and PDF exports -->
    <script>
        var link = document.createElement('link');
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = window.location.search.match(/print-pdf/gi) ? 'css/print/pdf.css' : 'css/print/paper.css';
        document.getElementsByTagName('head')[0].appendChild(link);
    </script>
</head>

<body>
    <div class="reveal">
        <div class="slides">
            <section class="section">
                <h1>COMD 3663 Dynamic Web 1</h1>
                <h2 class="lowercase">let const var</h2>
            </section>
            <section class="section">
                <h2 class="capitalize">Declaring and Defining Variables: <code>var</code>
                </h2>
                <p>
                    The <code>var</code> statement declares a variable, OPTIONALLY
                    initializing it to a value. You don't have to immediately assign a value to a <code>var</code> (or
                    <code>let</code>) variable.
                    Uninitialized declaration of <code>var</code>:
                </p>
                <code>var str</code>
                <p>Initialized variable using <code>var</code>:</p>
                <code>var str = 'Hello, world!'</code>
                <p>Syntax:</p>
                <code>var name1 = value1</code>
                <p><code>=</code> is called the <code>assignment
                        operator</code>. It indicates that the <code>value</code> to the
                    <em>right</em> of the <code>assignment operator</code> is being <code>assigned</code> to the
                    variable <code>str</code>.</p>
            </section>
            <section class="section">
                <h2><code>var</code> Declarations</h2>
                <p>
                    <code>var</code> <em>declarations</em>, wherever they occur, are
                    processed before any
                    code is executed. This is called <code>hoisting</code>.
                </p>
                <p><code>variable hoisting</code>: refers to JavaScript's behavior of
                    <em>moving</em>
                    declarations to the <code>top.</code></p>
            </section>
            <section class="section">
                <h2>Variable Hoisting: Example 1</h2>
                <p><code>Example 1</code></p>
                <pre><code data-javascript noescape>
x = 20;
elem.document.getElementById('demo');
elem.innerHTML.x;
var x;
    </code></pre>
                <p>To view examples in action, please visit <a href="w3schools.com/js/js_hoisting.asp">JavaScript
                        Declarations are
                        Hoisted</a> on <strong>W3Schools</strong>.</p>
            </section>
            <section class="section">
                <h2>Variable Scope</h2>
                <ol>
                    <li>
                        A <code>variable</code> is either in the <code>local
                            scope</code>, within the body of a function, or in the <code>global scope</code>,
                        outside of a function and available everywhere in the application.
                    </li>
                    <li>
                        Unless you need a variable to be available everywhere in an application, it is always
                        <em>preferable</em> to
                        <strong>declare</strong> and initialize it in the <code>local
                            scope</code>.
                    </li>
                </ol>
            </section>
            <section class="section">
                <h2 class="lowercase"><code>var</code> in <code>global scope</code>: live examples</h2>
                <p>Open up the <strong>Chrome Developer Tools Console</strong> and see what is printed out there. Then
                    check out the
                    <code>code</code>. You can <code>right click</code> over the <strong>slide</strong>, and choose
                    inspect. Then you
                    will be directed
                    to the code
                    under the <code>Elements</code> tab.</p>
                <script>
                    var bigNum = 1000;
                    if (bigNum === 1000) {
                        console.log(bigNum + bigNum);
                    }

                    if (bigNum < 1000) {
                        console.log(bigNum + bigNum);
                    }
                </script>
            </section>
            <section class="section">
                <h2 class="lowercase"><code>var</code> in <code>local scope</code>: live examples</h2>
                <p>Open up the <strong>Chrome Developer Tools Console</strong> and see what is printed out there. Then
                    check out the
                    <code>code</code>. You can <code>right click</code> over the <strong>slide</strong>, and choose
                    inspect. Then you
                    will be directed
                    to the code
                    under the <code>Elements</code> tab.</p>
                <script>
                    function addNums(a, b) {
                        if (a > 3) {
                            b = 9;
                        }
                        return a + b;
                    }
                    console.log(addNums(6, 2));
                </script>
            </section>
            <section class="section">
                <h2 class="capitalize">Assigning Values to Undeclared Variables</h2>
                <p>
                    Assigning <code>values</code> to <code>undeclared variables</code> <em>implicitly</em> makes them
                    <code>global
                        variables</code>. Because it
                    makes them <code>global variables</code>, and because developers might
                    not realize that
                    they exist as such (i.e., they inadvertently ommitted <code>var</code>),
                    <code>undeclared
                        variables</code> can result in <code>global variable leaks</code>. This can
                    cause unpredictable
                    code behavior, and the <code>undeclared variables</code> can be very hard to track down.
                </p>
            </section>
            <section class="section">
                <h2>Explicit Strict Mode</h2>
                <p>
                    With <code>ES5</code>, which was introduced in <code>2009</code>, the concept of <code>strict
                        mode</code> was
                    introduced.
                </p>
                <p>
                    <code>"strict mode"</code> was introduced in response to JavaScript's
                    <em>lenience</em>
                    and acceptance of sloppy or incorrect code, such as <em>undeclared</em> <code>global
                        variables</code>. It was not recognized by all browsers, however, so <code>cross-browser
                        compatibility</code> <em>testing</em> was necessary. On
                    the other
                    hand, <code>normal</code> code and code in <code>strict
                        mode</code> could co-exist, so that was not a problem. These days, even though Javascript is
                    being <code>compiled down</code> to <code>ES5</code> for <code>cross-browser
                        compatibility</code>, we are already entering <code>ECMAScript
                        2020</code>. Pretty much all developers have embraced <code>ECMAScript 2015</code> (ES6) and
                    beyond.
                </p>
            </section>
            <section class="section">
                <h2 class="lowercase">let and const</h2>
                <p>
                    In response to <code>var</code>'s "sloppiness", <code>ES6</code> introduced <code>let</code> and
                    <code>const</code>.
                </p>
            </section>
            <section class="section">
                <h2 class="lowercase">let</h2>
                <p>
                    <code>let</code> is really neat. The <code>let</code>
                    statement declares a <code>block scope</code> local variable, optionally
                    (immediately)
                    initializing it to a value.
                </p>
                <p>Syntax:</p>
                <code>let variable1 = value1;</code><br />
                <code>variable1</code>: the name of the variable that is being declared. Each
                character of
                the name must be a <em>legal</em> JavaScript <code>identifier</code>.<br />
                <code>value1</code>: with the <em>declaration</em> of the variable, you may
                optionally
                <em>immediately</em> specify its initial value to any legal JavaScript expression.
                <pre><code data-javascript noescape>
let pet;
                </code></pre>
                <p>or</p>
                <pre><code>
let pet = `Cat`;           
                </code></pre>
                <aside class="notes">
                    Show let in action in the playground. Then show what would happen with var if done the same way.
                </aside>
            </section>
            <section class="section">
                <p>
                    According to <code>Mathias Byens</code>, member of the ECMAScript
                    technical committee <code>TC39</code>, which oversees the evolution of
                    the <code>Ecma262 standard</code> (in other words, JavaScript), states on
                    his blog in a post entitled <a href="https://mathiasbynens.be/notes/javascript-identifiers-es6"
                        target="_blank">Valid JavaScript variable names in ES2015</a>:
                    <blockquote>
                        ES2015 updates the grammar for identifiers.
                    </blockquote>
                </p>
                <p>
                    He gets into great detail about what identifiers (characters) can be used in naming variables, most
                    of which you can ignore for this class. BUT he does provide a very helpful tool in this post (I have
                    included the <em>link</em> to it in the <strong>Related Resources</strong> section at the end of
                    this lecture as well). It is a <code>variable name validator</code>!
                    There are a whole bunch of other really cool validator tools included there which we probably will
                    revisit when appropriate.
                </p>
                <aside class="notes">
                    Go to Mathias' blog post and do a demonstration of how the validator works. <a
                        href="https://mathiasbynens.be/notes/javascript-identifiers-es6" target="_blank">Valid
                        JavaScript variable names in ES2015</a>
                </aside>
            </section>
            <section class="section">
                <h2>let vs var: recap</h2>
                <ol>
                    <li>
                        <code>let</code> allows you to declare variables <em>limited</em> to
                        the <code>local scope</code> of a <code>block statement</code> (or
                        expression on which it is used, and
                        we'll talk about that when we get to expressions!), but the <code>var</code> <b>keyword</b>
                        declares variables <em>globally</em> or
                        <em>locally</em> to a whole function, <em>ignoring</em> block scope.
                    </li>
                    <li>
                        Unlike <code>var</code>, which is <em>immediately</em>
                        <strong>initialized</strong> to a value, <code>let</code> is
                        <em>initialized</em> to a value <strong>only when</strong> a <strong>parser</strong> evaluates
                        it.
                    </li>
                    <li>
                        Unlike <code>var</code>, <code>let</code>
                        does not create properties of the <code>Window object</code> when
                        declared <em>globally</em>. We'll be getting into the <code>Window</code> object later in the
                        course. Two such properties are
                        <code>localStorage</code> and <code>sessionStorage</code>, for
                        example.
                    </li>
                    <li><code>let</code> cannot be re-declared. On the other hand, <code>var</code> <a
                            href="https://stackoverflow.com/questions/6888506/redeclaring-a-javascript-variable"
                            target="_blank">can</a>.</li>
                    <li><strong><em>Basically</em></strong>, when <code>naming
                            variables</code>, the names should start with either an <code>alpha character</code>
                        (alphabetical), an underscore <code>_</code>, or a <code>$</code>.
                        You
                        will never go wrong if you follow this rule!</li>
                </ol>
            </section>
            <section class="section">
                <h2>Why the keyword name let was chosen</h2>
                <p>
                    In the stackoverflow question entitled <a
                        href="https://stackoverflow.com/questions/37916940/why-was-the-name-let-chosen-for-block-scoped-variable-declarations-in-javascri"
                        target="_blank">Why was the name 'let' chosen for block-scoped variable declarations in
                        JavaScript?</a>, on <code>let</code>, it goes into an in-depth
                    explanation of the reason the keyword name <code>let</code> was chosen.
                    It states the following:
                </p>
                <blockquote>
                    Let is a mathematical statement that was adopted by early programming languages like Scheme and
                    Basic. Variables are considered low level entities not suitable for higher levels of abstraction,
                    thus the desire of many language designers to introduce similar but more powerful concepts like in
                    Clojure, F#, Scala, where let might mean a value, or a variable that can be assigned, but not
                    changed, which in turn lets the compiler catch more programming errors and optimize code
                    better.<br />
                    <br />
                    JavaScript has had var from the beginning, so they just needed another keyword, and just borrowed
                    from dozens of other languages that use let already as a traditional keyword as close to var as
                    possible, although in JavaScript let creates block scope local variable instead.
                </blockquote>
            </section>
            <section class="section">
                <h2 class="lowercase">const</h2>
                <p>
                    <code>const</code> was introduced in <code>ES6</code>, and is very different from <code>var</code>.
                    <code>const</code> works like
                    what its keyword name sounds like. The value assigned to it is <em><strong>read only</strong></em>.
                    It cannot be re-assigned a value as with <code>let</code> and <code>var</code>. <code>let</code> and
                    <code>var</code> allow you to <em><strong>re-assign</strong></em>
                    <strong>values</strong> to them. <code>const</code> does not.
                </p>
                <aside class="notes">
                    Show an example of const in action in the playground.
                </aside>
            </section>
            <section class="section">
                <h2>const Syntax</h2>
                <p>
                    Like <code>let</code>, <code>const</code> is
                    <code>block scoped</code>. It also can't be changed through re-assignment
                    (<code>let</code> can), and can't be re-declared. <code>let</code> also cannot be re-declared.
                </p>
                <strong>Syntax:</strong><br />
                <code>const name1 = value1;</code><br />
                <code>name1</code>: the name of the constant, which can be any <code>legal identifier</code>.<br />
                <code>value1</code>: the value of the constant, which can be any <code>legal expression</code>,
                including a <code>function
                    expression</code>.
            </section>
            <section class="section">
                <h2 class="lowercase">const in Detail</h2>
                <ol>
                    <li>
                        <code>const</code> declaration creates a constant whose scope can be
                        <code>global</code> or <code>local
                            blocked</code>, depending
                        on where it is placed.
                    </li>
                    <li>
                        Global <code>consts</code> do NOT become <code>properties</code> of the <code>Window</code>
                        object, as with
                        <code>var</code>
                        variables.
                    </li>
                    <li>
                        An <em>initializer</em> is required when declaring a <code>const</code>. In other
                        words, you can't do <code>const name; name="Maria";</code>. You have
                        to immediately
                        assign a value to the const <code>name</code>. So <code>const name =
                            "Maria";</code> instead.
                    </li>
                    <li>
                        <code>const</code> declaration is read only. It creates a read-only
                        reference to the
                        value. This does NOT mean that the value which is assigned to it is immutable, unchangeable. It
                        just means that
                        the <code>variable identifier</code> <em>cannot be</em> <code>re-assigned</code>. The
                        <code>value</code> can change,
                        just the <code>structure</code> of the value cannot.
                    </li>
                </ol>
                <aside class="notes">
                    Leave the <a
                        href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/let#Temporal_dead_zone"
                        target="_blank">temporal dead zone</a> for another time when appropriate.
                </aside>
            </section>
            <section class="section">
                <h2>Related Resources</h2>
                <ul>
                    <li>
                        <a href="https://tc39.es/">TC39: Specifying JavaScript</a>
                    </li>
                    <li>
                        <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Strict_mode">Strict
                            Mode</a>:
                        <strong>MDN</strong>
                    </li>
                    <li>
                        <a href="https://mathiasbynens.be/notes/javascript-identifiers-es6">Valid JavaScript variable
                            names in
                            ES2015</a>: <strong>mathias bynens</strong>
                    </li>
                    <li>
                        <a
                            href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/var">var</a>:
                        <strong>MDN</strong>
                    </li>
                    <li>
                        <a
                            href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/let">let</a>:
                        <strong>MDN</strong>
                    </li>
                    <li>
                        <a
                            href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/const">const</a>:
                        <strong>MDN</strong>
                    </li>
                    <li>
                        <a
                            href="https://stackoverflow.com/questions/37916940/why-was-the-name-let-chosen-for-block-scoped-variable-declarations-in-javascri">Why
                            was the name 'let' chosen for block-scoped variable declarations in JavaScript?</a>:
                        <strong>stackoverflow</strong>
                    </li>
                    <li><a href="https://stackoverflow.com/questions/6888506/redeclaring-a-javascript-variable">Redeclaring
                            a javascript
                            variable</a>: <strong>stackoverflow</strong></li>
                    <li>
                        <a href="https://www.w3schools.com/js/js_hoisting.asp">JavaScript Hoisting</a>:
                        <strong>W3Schools</strong>
                    </li>
                </ul>
            </section>
        </div>
    </div>

    <script src="js/reveal.js"></script>

    <script>
        // More info about config & dependencies:
        // - https://github.com/hakimel/reveal.js#configuration
        // - https://github.com/hakimel/reveal.js#dependencies
        Reveal.initialize({
            hash: true,
            dependencies: [{
                    src: 'plugin/markdown/marked.js'
                },
                {
                    src: 'plugin/markdown/markdown.js'
                },
                {
                    src: 'plugin/highlight/highlight.js'
                },
                {
                    src: 'plugin/notes/notes.js',
                    async: true
                }
            ]
        });
    </script>
</body>

</html>